<div class="it">
    {% for row in stream.items %}
    <div class="stream o-grid-row">
        {% for column in row %}
            {% if loop.last %}
                <div data-o-grid-colspan="4 S12 M12">
            {% else %}
                <div data-o-grid-colspan="4 S12 M6">
            {% endif %}
            
                {% for article in column %}
                    <div data-track-pos="{{loop.index}}">
                        {% if article.recommendation %}
                            <p class="recommended__by">Recommended by:
                                {% if article.recommendation.recommendedBy.id %}
                                    <a href="/users/{{ article.item.recommendation.recommendedBy.id }}/recommended">
                                        {{ article.item.recommendation.recommendedBy.name }}
                                    </a>
                                {% else %}
                                    {{ article.recommendation.recommendedBy.name }}        
                                {% endif %}
                                    on {{ article.recommendation.on|date('F jS, Y') }}
                            </p>
                        {% endif %}

                        {% if article.type === 'news' %}
                            {% include "../bower/next-article-card-component/templates/news.html" with { item: article} %}
                        {% elseif article.type === 'feature' %}
                            {% include "../bower/next-article-card-component/templates/feature.html" with { item: article } %}
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        {% endfor %}
    </div>
    {% endfor %}
</div>